<!doctype html>
<html>
<head>
    <title>Test FB Share?</title>
    <meta charset="utf-8">
    <meta property="fb:app_id" content="124285848214697" />
    <meta property="og:url" content="https://www.cpf.gov.sg">
    <meta property="og:type" content="article">
    <meta property="og:title" content="test 0">
    <meta property="og:description" content="test 00">
    <meta property="og:image" content="http://drib.tech/fbsharetest/quiz_landing.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <script src="https://connect.facebook.net/en_US/sdk.js?hash=d48f502650aa6a75acec1cb67f9f54ef&amp;ua=modern_es6" async="" crossorigin="anonymous"></script>
    <script id="facebook-jssdk" src="https://connect.facebook.net/en_US/sdk.js"></script>
    <script>
            window.fbAsyncInit = function() {
                FB.init({
                    appId: '124285848214697',
                    autoLogAppEvents: true,
                    xfbml: true,
                    version: 'v2.10'
                });
            FB.AppEvents.logPageView();
          };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return ;}
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));
    </script>
</head>
<body>
    <input type="button" value="Submit answer" onclick="javascript:submitAndShare();">


    <script>
function submitAndShare()
{
    var val = 'Tiberius';

    var title = '';
	var description = '';
	var image = '';
	switch(val)
	{
		case 'Tiberius':
				title = 'test 1';
				description = 'test 11';
				image = 'http://drib.tech/fbsharetest/quiz_yoda.jpg';
			break;
		default:
				title = 'test 2';
				description = 'test 22';
				image = 'http://drib.tech/fbsharetest/quiz_jar_jar_binks.jpg';
			break;
	}

	shareOverrideOGMeta(window.location.href,
						title,
						description,
						image);
}

function shareOverrideOGMeta(overrideLink, overrideTitle, overrideDescription, overrideImage)
{
	FB.ui({
		method: 'share_open_graph',
		action_type: 'og.likes',
		action_properties: JSON.stringify({
			object: {
				'og:url': overrideLink,
				'og:title': overrideTitle,
				'og:description': overrideDescription,
				'og:image': overrideImage
			}
		})
	},
	function (response) {
	// Action after response
	});
}

function shareOriginal()
{
	FB.ui({
		method: 'share',
		href: window.location.href
	},
	function (response) {
	// Action after response
	});

	return false;
}

    </script>
</body>
</html>
